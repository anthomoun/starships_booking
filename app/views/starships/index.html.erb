<div class="container" id="starships">
  <h1 class="my-5">Dear Invader, choose your starship for your space journey ðŸš€ !</h1>
  <div>
    <%# CONTAINER MAP %>
    <div class="map-plus-button" data-controller="map" data-map-markers-value="<%= @markers.to_json %>" data-map-api-key-value="<%= ENV['MAPBOX_API_KEY'] %>">
      <%# MAP %>
      <div class="d-none" data-map-target="mapElement"></div>
      <%# BUTTON %>
      <div class="map-button fixed-bottom d-flex justify-content-center">
        <button data-action="click->map#fire" type="button" class="btn btn-dark">View Map</button>
      </div>
      <div class="row" data-map-target="rowList">
        <% @starships.each do |starship| %>
          <div class="col-3 p-3">
            <%= link_to starship_path(starship) do %>
              <div class="card-product br-5 mx-1 d-flex flex-column">
                <% if starship.photos.nil? %>
                  <div class="image">
                  </div>
                <% else  %>
                    <div class="dynamique-image" style="background-image: url('<%=cl_image_path starship.photos.first.key %>')">
                  </div>
                <% end %>
                  <div class="card-body p-3">
                    <%= starship.name %>
                    <p class="card-text mt-3"><%= starship.description.truncate(200) %></p>
                  </div>
              </div>
            <% end %>
          </div>
        <% end %>
        </div>
      </div>
    </div>
  </div>
</div>
